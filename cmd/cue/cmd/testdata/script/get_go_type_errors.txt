# Test that we get expected results in the presence of type
# check errors. In this mode, cue get go proceeds on a best-efforts
# basis.

cue get go --local
cmp blah_go_gen.cue blah.cue.golden

-- go.mod --
module mod.com/blah

go 1.14
-- go.mod.golden --
module mod.com/blah

go 1.14
-- blah.go --
package main

import _ "embed"

// go:embed blah.txt
var blah string

// Syntax error
type S

type T struct {
	Age int
}

-- blah.cue.golden --
// Code generated by cue get go. DO NOT EDIT.

//cue:generate cue get go mod.com/blah

package main

#T: Age: int
