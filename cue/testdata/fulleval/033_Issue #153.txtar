#name: Issue #153
#evalFull
-- in.cue --
Foo: {
	listOfCloseds: [...Closed]
}

Closed :: {
	a: int | *0
}

Junk: {
	b: 2
}

Foo & {
	listOfCloseds: [{
		for k, v in Junk {
			"\(k)": v
		}
	}]
}
-- out/def --
Foo: {
	listOfCloseds: [...Closed]
}
listOfCloseds: [_|_, // field "b" not allowed in closed struct
]
Closed :: {
	a: int | *0
}
Junk: {
	b: 2
}
-- out/legacy-debug --
<0>{<1>{listOfCloseds: [_|_(<2>.v:field "b" not allowed in closed struct)]}, Foo: <3>{listOfCloseds: []}, Closed :: <4>C{a: 0}, Junk: <5>{b: 2}}
