#name: conflicts in optional fields are okay 
#evalFull
-- in.cue --
d: {a: 1, b?: 3} | {a: 2}

// the following conjunction should not eliminate any disjuncts
c: d & {b?: 4}
-- out/def --
d: {
	a:  1
	b?: 3
} | {
	a: 2
}

// the following conjunction should not eliminate any disjuncts
c: d & {
	b?: 4
}
-- out/legacy-debug --
<0>{d: (<1>{a: 1, b?: 3} | <2>{a: 2}), c: (<3>{a: 1, b?: (3 & 4)} | <4>{a: 2, b?: 4})}
